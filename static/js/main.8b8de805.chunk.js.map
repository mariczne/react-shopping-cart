{"version":3,"sources":["types/index.ts","types/DataState.ts","cart/actions.ts","cart/utils.ts","cart/reducer.ts","components/TopBar/TopBar.tsx","components/TopBar/react-logo.png","components/CartModal/CartItem.tsx","components/CartModal/CartItemList.tsx","components/CartModal/CartModal.tsx","components/ProductsList/SearchBox.tsx","components/ProductsList/ProductsListItem.tsx","components/ProductsList/FilteredProducts.tsx","components/ProductsList/ProductsList.tsx","utils/hooks.ts","App.tsx","index.tsx"],"names":["DataStates","CartActions","productInCartById","id","productInCart","cartReducer","cart","action","type","ADD_PRODUCT","product","payload","Boolean","find","map","quantity","incrementQuantityIfProductWithId","REMOVE_PRODUCT","decrementQuantityIfProductWithId","filter","removeProductWithId","BADGE_STYLE","width","height","TopBar","itemsInCartCount","toggleCartModal","Navbar","bg","fixed","Container","Brand","href","src","className","alt","Nav","Link","Button","variant","onClick","size","Badge","style","CartItem","name","price","addToCart","removeFromCart","role","DecrementButton","IncrementButton","toFixed","ActionButton","props","CartItemList","length","totalPrice","reduce","acc","curr","Table","responsive","striped","hover","item","colSpan","CartModal","showCartModal","Modal","show","onHide","Header","closeButton","Title","Body","Footer","SearchBox","value","onSearchChange","FormControl","placeholder","onChange","COL_STYLE","flexBasis","CARD_STYLE","minHeight","minWidth","ProductsListItem","Col","Card","Subtitle","FilteredProducts","products","productsToShowCount","searchValue","filteredProducts","searchValues","toLowerCase","trim","split","regex","RegExp","join","test","filterProducts","slice","Row","CardDeck","ProductsList","dataState","useState","setSearchValue","setProductsToShowCount","hasMoreProducts","e","target","Spinner","animation","hasMore","loadMore","loader","useProducts","isMounted","isMountedRef","useRef","useEffect","current","useCallback","useIsMounted","loading","setDataState","setProducts","url","a","fetch","response","json","loaded","error","fetchProducts","App","useReducer","dispatch","setCartModalVisibility","isVisible","addProductToCart","removeProductFromCart","marginTop","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8b8de805.chunk.js","sourcesContent":["export * from \"./DataState\";\nexport * from \"./Product\";\n","export enum DataStates {\n  loading = \"loading\",\n  loaded = \"loaded\",\n  error = \"error\",\n}\n\nexport type DataState = keyof typeof DataStates;\n","import { Product } from \"types\";\n\nexport enum CartActions {\n  ADD_PRODUCT = \"ADD_PRODUCT\",\n  REMOVE_PRODUCT = \"REMOVE_PRODUCT\",\n}\n\nexport interface CartAction {\n  type: keyof typeof CartActions;\n  payload: {\n    product: Product;\n  };\n}\n\nexport function addProductToCart(product: Product) {\n  return { type: CartActions.ADD_PRODUCT, payload: { product } };\n}\n\nexport function removeProductFromCart(product: Product) {\n  return { type: CartActions.REMOVE_PRODUCT, payload: { product } };\n}\n","import { ProductInCart } from \"types\";\n\nexport function productInCartById(id: ProductInCart[\"id\"]) {\n  return (productInCart: ProductInCart) => productInCart.id === id;\n}\n\nexport function incrementQuantityIfProductWithId(id: ProductInCart[\"id\"]) {\n  return (productInCart: ProductInCart) => {\n    if (productInCart.id === id) {\n      return { ...productInCart, quantity: productInCart.quantity + 1 };\n    }\n    return productInCart;\n  };\n}\n\nexport function decrementQuantityIfProductWithId(id: ProductInCart[\"id\"]) {\n  return (productInCart: ProductInCart) => {\n    if (productInCart.id === id) {\n      return { ...productInCart, quantity: productInCart.quantity - 1 };\n    }\n    return productInCart;\n  };\n}\n\nexport function removeProductWithId(id: ProductInCart[\"id\"]) {\n  return (productInCart: ProductInCart) => productInCart.id !== id;\n}\n","import { CartActions, CartAction } from \"./actions\";\nimport {\n  productInCartById,\n  decrementQuantityIfProductWithId,\n  incrementQuantityIfProductWithId,\n  removeProductWithId,\n} from \"./utils\";\nimport { ProductInCart } from \"types\";\n\nexport type CartState = ProductInCart[];\n\nfunction cartReducer(cart: CartState, action: CartAction) {\n  switch (action.type) {\n    case CartActions.ADD_PRODUCT: {\n      const { product } = action.payload;\n\n      const isProductAlreadyInCart = Boolean(\n        cart.find(productInCartById(product.id))\n      );\n\n      if (isProductAlreadyInCart) {\n        return cart.map(incrementQuantityIfProductWithId(product.id));\n      }\n\n      return [...cart, { ...product, quantity: 1 }];\n    }\n    case CartActions.REMOVE_PRODUCT: {\n      const {\n        product: { id },\n      } = action.payload;\n\n      const productInCart = cart.find(productInCartById(id));\n      if (!productInCart) return cart;\n\n      if (productInCart.quantity > 1) {\n        return cart.map(decrementQuantityIfProductWithId(id));\n      }\n\n      return cart.filter(removeProductWithId(id));\n    }\n    default: {\n      return cart;\n    }\n  }\n}\n\nexport { cartReducer };\n","import { Navbar, Container, Badge, Button, Nav } from \"react-bootstrap\";\nimport { FaShoppingCart } from \"react-icons/fa\";\nimport reactLogo from \"./react-logo.png\";\n\nconst APP_NAME = \"Shopping Cart\";\nconst BADGE_STYLE = { width: \"1.5rem\", height: \"1.5rem\" };\nconst BADGE_CLASSES = `d-inline-flex justify-content-center align-items-center\nrounded-circle p-0 ml-2`;\n\nexport interface TopBarProps {\n  itemsInCartCount: number;\n  toggleCartModal: () => void;\n}\n\nfunction TopBar({ itemsInCartCount, toggleCartModal }: TopBarProps) {\n  return (\n    <Navbar bg=\"light\" fixed=\"top\">\n      <Container>\n        <Navbar.Brand href=\"#\">\n          <img\n            src={reactLogo}\n            width=\"30\"\n            height=\"30\"\n            className=\"d-inline-block align-top\"\n            alt=\"React Shopping Cart\"\n          />\n        </Navbar.Brand>\n        <Navbar.Brand href=\"#\" className=\"d-none d-sm-inline-block\">\n          {APP_NAME}\n        </Navbar.Brand>\n        <Nav className=\"mr-auto\">\n          <Nav.Link href=\"https://github.com/mariczne/react-shopping-cart\">\n            GitHub repo\n          </Nav.Link>\n        </Nav>\n        <Button\n          variant={itemsInCartCount ? \"primary\" : \"outline-secondary\"}\n          className=\"text-nowrap\"\n          onClick={toggleCartModal}\n        >\n          <FaShoppingCart size=\"1.5rem\" />\n          {itemsInCartCount ? (\n            <Badge\n              style={BADGE_STYLE}\n              className={BADGE_CLASSES}\n              variant=\"light\"\n            >\n              {itemsInCartCount}\n            </Badge>\n          ) : null}\n        </Button>\n      </Container>\n    </Navbar>\n  );\n}\n\nexport { TopBar };\n","export default \"data:image/png;base64,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\"","import { Button } from \"react-bootstrap\";\nimport { ComponentProps } from \"react\";\nimport { ProductInCart } from \"types\";\nimport { CartItemListProps } from \"./CartItemList\";\n\nexport type CartItemProps = ProductInCart &\n  Pick<CartItemListProps, \"addToCart\" | \"removeFromCart\">;\n\nfunction CartItem({\n  id,\n  name,\n  quantity,\n  price,\n  addToCart,\n  removeFromCart,\n}: CartItemProps) {\n  return (\n    <tr role=\"listitem\">\n      <td className=\"align-middle\">{name}</td>\n      <td className=\"align-middle text-right text-nowrap\">\n        <DecrementButton removeFromCart={() => removeFromCart(id)} />\n        <span className=\"mx-2\">{quantity}</span>\n        <IncrementButton addToCart={() => addToCart(id)} />\n      </td>\n      <td className=\"align-middle text-right\">{price.toFixed(2)}</td>\n      <td className=\"align-middle text-right\">\n        {((100 * price * quantity) / 100).toFixed(2)}\n      </td>\n    </tr>\n  );\n}\n\nfunction ActionButton(props: ComponentProps<typeof Button>) {\n  return (\n    <Button\n      size=\"sm\"\n      style={{ width: \"1.5rem\", height: \"1.5rem\" }}\n      className=\"d-inline-flex justify-content-center align-items-center\n  rounded-circle p-0\"\n      {...props}\n    />\n  );\n}\n\nexport interface IncrementButtonProps {\n  addToCart: () => void;\n}\n\nfunction IncrementButton({ addToCart }: IncrementButtonProps) {\n  return (\n    <ActionButton variant=\"outline-success\" onClick={addToCart}>\n      +\n    </ActionButton>\n  );\n}\n\nexport interface DecrementButtonProps {\n  removeFromCart: () => void;\n}\n\nfunction DecrementButton({ removeFromCart }: DecrementButtonProps) {\n  return (\n    <ActionButton variant=\"outline-danger\" onClick={removeFromCart}>\n      -\n    </ActionButton>\n  );\n}\n\nexport { CartItem };\n","import { Table } from \"react-bootstrap\";\nimport { CartItem } from \"./CartItem\";\nimport { CartModalProps } from \"./CartModal\";\n\nconst NO_ITEMS_IN_CART_TEXT =\n  \"There are currently no products in the shopping cart\";\n\nexport type CartItemListProps = Pick<\n  CartModalProps,\n  \"cart\" | \"addToCart\" | \"removeFromCart\"\n>;\n\nfunction CartItemList({ cart, addToCart, removeFromCart }: CartItemListProps) {\n  const itemsInCartCount = cart.length;\n\n  if (itemsInCartCount < 1) {\n    return <>{NO_ITEMS_IN_CART_TEXT}</>;\n  }\n\n  function renderCartItems() {\n    return cart.map((item) => (\n      <CartItem\n        key={item.id}\n        id={item.id}\n        name={item.name}\n        price={item.price}\n        quantity={item.quantity}\n        addToCart={addToCart}\n        removeFromCart={removeFromCart}\n      />\n    ));\n  }\n\n  const totalPrice =\n    cart.reduce((acc, curr) => acc + curr.price * 100 * curr.quantity, 0) / 100;\n\n  return (\n    <Table responsive striped hover size=\"sm\">\n      <thead>\n        <tr>\n          <th className=\"text-left\">Product name</th>\n          <th className=\"text-right\">Quantity</th>\n          <th className=\"text-right\">Price per item</th>\n          <th className=\"text-right\">Total item value</th>\n        </tr>\n      </thead>\n      <tbody role=\"list\">{renderCartItems()}</tbody>\n      <tfoot>\n        <tr>\n          <th colSpan={4} className=\"text-right\">\n            Total order value: {totalPrice.toFixed(2)}\n          </th>\n        </tr>\n      </tfoot>\n    </Table>\n  );\n}\n\nexport { CartItemList };\n","import { Modal, Button } from \"react-bootstrap\";\nimport { FaShoppingCart } from \"react-icons/fa\";\nimport { CartItemList } from \"./CartItemList\";\nimport { CartState } from \"cart\";\nimport { Product, ProductInCart } from \"types\";\n\nconst MODAL_TITLE = \"Your cart\";\nconst CLOSE_BTN_TEXT = \"Close cart\";\nconst CHECKOUT_BTN_TEXT = \"To checkout\";\n\nexport interface CartModalProps {\n  cart: CartState;\n  addToCart: (id: Product[\"id\"]) => void;\n  removeFromCart: (id: ProductInCart[\"id\"]) => void;\n  showCartModal: boolean;\n  toggleCartModal: () => void;\n}\n\nfunction CartModal({\n  cart,\n  addToCart,\n  removeFromCart,\n  showCartModal,\n  toggleCartModal,\n}: CartModalProps) {\n  const itemsInCartCount = cart.length;\n\n  return (\n    <Modal show={showCartModal} onHide={toggleCartModal} size=\"lg\">\n      <Modal.Header closeButton>\n        <Modal.Title>\n          <FaShoppingCart size=\"2.5rem\" /> {MODAL_TITLE}\n        </Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <CartItemList\n          cart={cart}\n          addToCart={addToCart}\n          removeFromCart={removeFromCart}\n        />\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"outline-secondary\" onClick={toggleCartModal}>\n          {CLOSE_BTN_TEXT}\n        </Button>\n        {itemsInCartCount > 0 && (\n          <Button variant=\"success\">{CHECKOUT_BTN_TEXT}</Button>\n        )}\n      </Modal.Footer>\n    </Modal>\n  );\n}\n\nexport { CartModal };\n","import { FormControl } from \"react-bootstrap\";\n\nconst SEARCH_BOX_PLACEHOLDER = \"Search for a product\";\n\nexport interface SearchBoxProps {\n  value: string;\n  onSearchChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n}\n\nfunction SearchBox({ value, onSearchChange }: SearchBoxProps) {\n  return (\n    <FormControl\n      type=\"search\"\n      className=\"m-3\"\n      placeholder={SEARCH_BOX_PLACEHOLDER}\n      value={value}\n      onChange={onSearchChange}\n    />\n  );\n}\n\nexport { SearchBox };\n","import { Card, Button, Badge, Col } from \"react-bootstrap\";\nimport { ProductInCart } from \"types\";\nimport { ProductsListProps } from \"./ProductsList\";\n\nconst COL_STYLE = {\n  flexBasis: \"50%\",\n};\nconst CARD_STYLE = {\n  minHeight: \"12.5rem\",\n  minWidth: \"12.5rem\",\n};\nconst ADD_TO_CART_TEXT = \"Add to cart\";\nconst IN_CART_TEXT = \"in cart\";\nconst CURRENCY_CODE = \"\"; // not specified in the data\n\nexport interface ProductsListItemProps extends ProductInCart {\n  addToCart: ProductsListProps[\"addToCart\"];\n}\n\nfunction ProductsListItem({\n  id,\n  name,\n  price,\n  quantity,\n  addToCart,\n}: ProductsListItemProps) {\n  return (\n    <Col style={COL_STYLE} className=\"col-md-6 col-lg-4 flex-grow-0\">\n      <Card style={CARD_STYLE} className=\"my-3\" role=\"listitem\">\n        <Card.Body className=\"d-flex flex-column justify-content-between\">\n          <Card.Title>{name}</Card.Title>\n          <Card.Subtitle>\n            {price.toFixed(2)} <small>{CURRENCY_CODE} /per item</small>\n          </Card.Subtitle>\n        </Card.Body>\n        <Card.Footer className=\"d-flex flex-row justify-content-between\">\n          <Button\n            variant=\"outline-primary\"\n            size=\"sm\"\n            onClick={() => addToCart(id)}\n          >\n            {ADD_TO_CART_TEXT}\n          </Button>\n          {quantity > 0 && (\n            <Badge variant=\"success\" className=\"d-flex align-items-center\">\n              {quantity} {IN_CART_TEXT}\n            </Badge>\n          )}\n        </Card.Footer>\n      </Card>\n    </Col>\n  );\n}\n\nexport { ProductsListItem };\n","import { Row, CardDeck } from \"react-bootstrap\";\nimport { ProductsListItem } from \"./ProductsListItem\";\nimport { ProductsListProps } from \"./ProductsList\";\nimport { Product } from \"types\";\n\nconst NO_PRODUCTS_TEXT = \"No products fitting the criteria found\";\n\nexport interface FilteredProductsProps\n  extends Omit<ProductsListProps, \"dataState\"> {\n  productsToShowCount: number;\n  searchValue: string;\n}\n\nfunction FilteredProducts({\n  products,\n  cart,\n  addToCart,\n  productsToShowCount,\n  searchValue,\n}: FilteredProductsProps) {\n  const filterProducts = (products: Product[]) => {\n    if (products.length > 0) {\n      const searchValues = searchValue.toLowerCase().trim().split(\" \");\n\n      const regex = new RegExp(`^(?=.*${searchValues.join(\")(?=.*\")}).*$`, \"i\");\n      return products.filter((product) => regex.test(product.name));\n    }\n    return [];\n  };\n\n  const filteredProducts = filterProducts(products).slice(\n    0,\n    productsToShowCount\n  );\n\n  if (filteredProducts.length === 0) {\n    return (\n      <Row className=\"justify-content-center\">\n        <p>{NO_PRODUCTS_TEXT}</p>\n      </Row>\n    );\n  }\n\n  return (\n    <CardDeck role=\"list\">\n      {filteredProducts.map((product) => {\n        const productInCart = cart.find(\n          (productInCart) => productInCart.id === product.id\n        );\n\n        return (\n          <ProductsListItem\n            key={product.id}\n            id={product.id}\n            name={product.name}\n            price={product.price}\n            addToCart={addToCart}\n            quantity={productInCart ? productInCart.quantity : 0}\n          />\n        );\n      })}\n    </CardDeck>\n  );\n}\n\nexport { FilteredProducts };\n","import { useState } from \"react\";\nimport { Row, Spinner } from \"react-bootstrap\";\nimport InfiniteScroll from \"react-infinite-scroller\";\nimport { SearchBox } from \"./SearchBox\";\nimport { FilteredProducts } from \"./FilteredProducts\";\nimport { CartState } from \"cart\";\nimport { Product, DataState } from \"types\";\n\nconst DEFAULT_PRODUCTS_VISIBLE = 25;\n\nexport interface ProductsListProps {\n  dataState: DataState;\n  products: Product[];\n  cart: CartState;\n  addToCart: (product: Product[\"id\"]) => void;\n}\n\nfunction ProductsList({\n  dataState,\n  products,\n  cart,\n  addToCart,\n}: ProductsListProps) {\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [productsToShowCount, setProductsToShowCount] = useState(\n    DEFAULT_PRODUCTS_VISIBLE\n  );\n\n  const onSearchChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setSearchValue(e.target.value);\n    setProductsToShowCount(DEFAULT_PRODUCTS_VISIBLE);\n  };\n\n  const loadMoreProducts = () => {\n    setProductsToShowCount(productsToShowCount + DEFAULT_PRODUCTS_VISIBLE);\n  };\n\n  const hasMoreProducts = products.length > productsToShowCount;\n\n  return (\n    <>\n      <Row>\n        <SearchBox value={searchValue} onSearchChange={onSearchChange} />\n      </Row>\n      <Row className=\"justify-content-center\">\n        {dataState === \"loading\" ? (\n          <Spinner animation=\"border\" />\n        ) : (\n          <InfiniteScroll\n            className=\"w-100\"\n            hasMore={hasMoreProducts}\n            loadMore={loadMoreProducts}\n            loader={\n              <div className=\"d-flex justify-content-center\" key={0}>\n                <Spinner animation=\"border\" />\n              </div>\n            }\n          >\n            <FilteredProducts\n              products={products}\n              cart={cart}\n              addToCart={addToCart}\n              productsToShowCount={productsToShowCount}\n              searchValue={searchValue}\n            />\n          </InfiniteScroll>\n        )}\n      </Row>\n    </>\n  );\n}\n\nexport { ProductsList };\n","import { useState, useEffect, useRef, useCallback } from \"react\";\nimport { DataStates, Product } from \"types\";\n\nconst API_URL = \"/react-shopping-cart/data.json\";\n\nexport function useProducts() {\n  const isMounted = useIsMounted()\n  const [dataState, setDataState] = useState(DataStates.loading);\n  const [products, setProducts] = useState<Product[]>([]);\n\n  useEffect(() => {\n    const fetchProducts = async (url: string) => {\n      const response = await fetch(url);\n      const products: Product[] = await response.json();\n\n      try {\n        isMounted() && setProducts(products);\n        isMounted() && setDataState(DataStates.loaded);\n      } catch {\n        isMounted() && setDataState(DataStates.error);\n      }\n    };\n\n    fetchProducts(API_URL);\n  }, [isMounted]);\n\n  return { products, dataState };\n}\n\nexport function useIsMounted() {\n  const isMountedRef = useRef(true)\n\n  useEffect(\n    () => () => {\n      isMountedRef.current = false\n    },\n    []\n  )\n\n  const isMounted = useCallback(() => isMountedRef.current, [isMountedRef])\n\n  return isMounted\n}\n","import { useState, useReducer } from \"react\";\nimport { cartReducer, addProductToCart, removeProductFromCart } from \"cart\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport { TopBar } from \"components/TopBar\";\nimport { CartModal } from \"components/CartModal\";\nimport { ProductsList } from \"components/ProductsList\";\nimport { useProducts } from \"utils\";\nimport { Product } from \"types\";\n\nfunction App() {\n  const [cart, dispatch] = useReducer(cartReducer, []);\n  const [showCartModal, setCartModalVisibility] = useState(false);\n\n  const { products, dataState } = useProducts();\n\n  const toggleCartModal = () => {\n    setCartModalVisibility((isVisible) => !isVisible);\n  };\n\n  const addToCart = (id: Product[\"id\"]) => {\n    const product = products.find((product) => product.id === id);\n    if (!product) return;\n    dispatch(addProductToCart(product));\n  };\n\n  const removeFromCart = (id: Product[\"id\"]) => {\n    const product = products.find((product) => product.id === id);\n    if (!product) return;\n    dispatch(removeProductFromCart(product));\n  };\n\n  const itemsInCartCount = cart.reduce((acc, curr) => acc + curr.quantity, 0);\n\n  return (\n    <>\n      <TopBar\n        itemsInCartCount={itemsInCartCount}\n        toggleCartModal={toggleCartModal}\n      />\n      <CartModal\n        showCartModal={showCartModal}\n        toggleCartModal={toggleCartModal}\n        cart={cart}\n        addToCart={addToCart}\n        removeFromCart={removeFromCart}\n      />\n      <Container>\n        <Row style={{ marginTop: 70 }}>\n          <Col>\n            <ProductsList\n              dataState={dataState}\n              products={products}\n              cart={cart}\n              addToCart={addToCart}\n            />\n          </Col>\n        </Row>\n      </Container>\n    </>\n  );\n}\n\nexport { App };\n","import ReactDOM from \"react-dom\";\nimport { App } from \"./App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}